define(["jquery","jquery.mobile","app/config","app/utilities","app/ui/default","handlebar"],function(e,t,n,r,i,s){var o="Application Module - ",u=function(){r.log(o+"initializeFragments()"),e.getJSON(n.API_UI_FRAGMENTS,function(t){var n="";e.each(t,function(t,i){if(i.enabled!="true")return;var o,u;o=r.syncGet(i.src,"html"),u=r.syncGet(i.data,"json");var a=s.compile(o),f=a(u),l=i.visible=="true"?"":"display:none",c=e('<div style="'+l+'" id="'+i.id+'"></div>').addClass("tab-content");e("#concierge-views").append(c.append(e(f))),e("#concierge-views").trigger("create"),i.inmenu=="true"&&(n+='<li class="'+i.class+'"><a data-ajax="false" concierge-target="'+i.id+'">',n+='<img src="'+i.img+'">',n+="<h2>"+i.label+"</h2>",n+="<p>"+i.description+"</p>",n+="</a></li>")}),e("#main-page-left-nav-ul").append(n).promise().done(function(){try{e(this).listview("refresh")}catch(t){r.log(o+" Inserted nav elements prior to initialisation, not a bad thing")}})})},a=function(){r.log(o+"Initializing"),u(),i.initialize()};return{initialize:a}});